@(content:ApiContent, jsonString: String)
@stringField(fieldname: String, fields: net.liftweb.json.JValue) = @{
    implicit val formats = net.liftweb.json.DefaultFormats
    (fields \ fieldname).extract[String]
}
@template(title=content.webTitle) {
<h1>@Html(content.webTitle)</h1>
        <div class="body">
        @Html(stringField("body", content.fields))
        </div>


<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script>
        data = @Html(jsonString);
        $(function(){
            for (elementId in data) {
                $('.element').each(function(index, element){
                    var el = $(element);
                  if (el.data('media-id') === elementId) {
                      s = '<ul>';
                      for (i in data[elementId].assets) {
                          s += '<li><img src="'+data[elementId].assets[i].file+'"></li>';
                      }
                      s += '</ul>';
                      el.append(s);
                  }
                });
            }

        })
    </script>
}